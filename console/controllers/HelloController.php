<?php
/**
 * @link http://www.yiiframework.com/
 * @copyright Copyright (c) 2008 Yii Software LLC
 * @license http://www.yiiframework.com/license/
 */

namespace console\controllers;

use common\models\WmsFinanceFreightFormula;
use yii\console\Controller;
use Yii;

/**
 * This command echoes the first argument that you have entered.
 *
 * This command is provided as an example for you to learn how to create console commands.
 *
 * @author Qiang Xue <qiang.xue@gmail.com>
 * @since 2.0
 */
class HelloController extends Controller
{
    /**
     * This command echoes what you have entered as the message.
     * @param string $message the message to be echoed.
     */
    public function actionIndex($message = 'hello world')
    {
        echo $message . "\n";
    }

    public function actionTest(){
        $data = [
            '商壹' => [
                'SG' => [
                    'P' => [
                        '首重(派送)' => 3,
                        '首重费用(派送)' => 30,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 5,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '运费' => 17,
                        'COD手续费比例' => 0.03,
                        'COD手续费最低值' => 15,
                        '每票换单费' => 5,
                        '退货退款比例' => 0.03,
                        '退货退款最低值' => 15,
                        '包裹限重' => 30,
                        '全程时效' => '3-5',
                        '渠道代码' => [
                            'NJV服务' => 'ECOM-NJV-P',
                        ],
                    ],
                    'M' => [
                        '首重(派送)' => 3,
                        '首重费用(派送)' => 30,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 5,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '运费' => 19,
                        'COD手续费比例' => 0.03,
                        'COD手续费最低值' => 15,
                        '每票换单费' => 5,
                        '退货退款比例' => 0.03,
                        '退货退款最低值' => 15,
                        '包裹限重' => 30,
                        '全程时效' => '3-5',
                        '渠道代码' => [
                            'NJV服务' => 'ECOM-NJV-M',
                        ],
                    ],
                ],
                //东马
                'MY1' => [
                    'P' => [
                        '首重(派送)' => 1,
                        '首重费用(派送)' => 27,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 26,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '运费' => 15,
                        'COD手续费比例' => 0.03,
                        'COD手续费最低值' => 10,
                        '每票换单费' => 5,
                        '退货退款比例' => 0.03,
                        '退货退款最低值' => 10,
                        '包裹限重' => 30,
                        '全程时效' => '5-7',
                        '渠道代码' => [
                            'DHL服务' => 'ECOM-GMS-P',
                            'GDEX服务' => 'ECOM-COD-GP',
                        ],
                    ],
                    'M' => [
                        '首重(派送)' => 1,
                        '首重费用(派送)' => 27,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 26,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '运费' => 16.5,
                        'COD手续费比例' => 0.03,
                        'COD手续费最低值' => 10,
                        '每票换单费' => 5,
                        '退货退款比例' => 0.03,
                        '退货退款最低值' => 10,
                        '包裹限重' => 30,
                        '全程时效' => '5-7',
                        '渠道代码' => [
                            'DHL服务' => 'ECOM-GMS-DM',
                            'GDEX服务' => 'ECOM-COD-GD',
                        ],
                    ],
                ],
                //西马
                'MY0' => [
                    'P' => [
                        '首重(派送)' => 3,
                        '首重费用(派送)' => 17,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 3.5,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '运费' => 15,
                        'COD手续费比例' => 0.03,
                        'COD手续费最低值' => 10,
                        '每票换单费' => 5,
                        '退货退款比例' => 0.03,
                        '退货退款最低值' => 10,
                        '包裹限重' => 30,
                        '全程时效' => '3-5',
                        '渠道代码' => [
                            'DHL服务' => 'ECOM-GMS-P',
                            'GDEX服务' => 'ECOM-COD-GP',
                        ],
                    ],
                    'M' => [
                        '首重(派送)' => 3,
                        '首重费用(派送)' => 17,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 3.5,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '运费' => 16.5,
                        'COD手续费比例' => 0.03,
                        'COD手续费最低值' => 10,
                        '每票换单费' => 5,
                        '退货退款比例' => 0.03,
                        '退货退款最低值' => 15,
                        '包裹限重' => 30,
                        '全程时效' => '3-5',
                        '渠道代码' => [
                            'DHL服务' => 'ECOM-GMS-DM',
                            'GDEX服务' => 'ECOM-COD-GD',
                        ],
                    ],
                ],
                'TH' => [
                    'P' => [
                        '首重(派送)' => 3,
                        '首重费用(派送)' => 22,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 3,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '运费' => 12,
                        'COD手续费比例' => 0.03,
                        'COD手续费最低值' => 15,
                        '每票换单费' => 5,
                        '退货退款比例' => 0.03,
                        '退货退款最低值' => 10,
                        '包裹限重' => 20,
                        '全程时效' => '5-7',
                        '渠道代码' => [
                            'KERRY服务' => 'ECOM-TH-P',
                        ],
                    ],
                    'M' => [
                        '首重(派送)' => 3,
                        '首重费用(派送)' => 22,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 3,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '运费' => 15,
                        'COD手续费比例' => 0.03,
                        'COD手续费最低值' => 15,
                        '每票换单费' => 5,
                        '退货退款比例' => 0.03,
                        '退货退款最低值' => 10,
                        '包裹限重' => 20,
                        '全程时效' => '7-9',
                        '渠道代码' => [
                            'KERRY服务' => 'ECOM-TH-M',
                        ],
                    ],
                ],
                'LKA' => [
                    'P' => [
                        '科伦坡' => [
                            '首重(派送)' => 0.5,
                            '首重费用(派送)' => 45,
                            '续重(派送)' => 0.5,
                            '续重费用(派送)' => 18,
                            '首重(头程)' => 0,
                            '首重费用(头程)' => 0,
                            '续重(头程)' => 0,
                            '续重费用(头程)' => 0,
                            'COD手续费比例' => 0.03,
                            'COD手续费最低值' => 20,
                            '每票换单费' => 5,
                            '每票换单派送费' => 18,
                            '退货退款比例' => 0.03,
                            '退货退款最低值' => 20,
                            '包裹限重' => 30,
                            '包裹限重次数' => '免费派送三次',
                            '全程时效' => '3-5',
                        ],
                        '其它' => [
                            '首重(派送)' => 0.5,
                            '首重费用(派送)' => 45,
                            '续重(派送)' => 0.5,
                            '续重费用(派送)' => 18,
                            '首重(头程)' => 0,
                            '首重费用(头程)' => 0,
                            '续重(头程)' => 0,
                            '续重费用(头程)' => 0,
                            'COD手续费比例' => 0.03,
                            'COD手续费最低值' => 20,
                            '每票换单费' => 5,
                            '每票换单派送费' => 25,
                            '退货退款比例' => 0.03,
                            '退货退款最低值' => 20,
                            '包裹限重' => 30,
                            '包裹限重次数' => '免费派送三次',
                            '全程时效' => '3-5',
                        ],
                    ],
                    'M' => [
                        '科伦坡' => [
                            '首重(派送)' => 0.5,
                            '首重费用(派送)' => 65,
                            '续重(派送)' => 0.5,
                            '续重费用(派送)' => 22,
                            '首重(头程)' => 0,
                            '首重费用(头程)' => 0,
                            '续重(头程)' => 0,
                            '续重费用(头程)' => 0,
                            'COD手续费比例' => 0.03,
                            'COD手续费最低值' => 20,
                            '每票换单费' => 5,
                            '每票换单派送费' => 18,
                            '退货退款比例' => 0.03,
                            '退货退款最低值' => 20,
                            '包裹限重' => 30,
                            '包裹限重次数' => '免费派送三次',
                            '全程时效' => '3-5',
                        ],
                        '其它' => [
                            '首重(派送)' => 0.5,
                            '首重费用(派送)' => 65,
                            '续重(派送)' => 0.5,
                            '续重费用(派送)' => 22,
                            '首重(头程)' => 0,
                            '首重费用(头程)' => 0,
                            '续重(头程)' => 0,
                            '续重费用(头程)' => 0,
                            'COD手续费比例' => 0.03,
                            'COD手续费最低值' => 20,
                            '每票换单费' => 5,
                            '每票换单派送费' => 25,
                            '退货退款比例' => 0.03,
                            '退货退款最低值' => 20,
                            '包裹限重' => 30,
                            '包裹限重次数' => '免费派送三次',
                            '全程时效' => '3-5',
                        ],
                    ],
                ],
            ],
            '易速配' => [
                'TW' => [
                    'P' => [
                        '首重(派送)' => 1,
                        '首重费用(派送)' => 30,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 11,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '拒签退回费用' => 0,
                        '签收退货取件（台币/票）' => 85,
                        '退件重出（台币/票）' => 115,
                        '客诉打款手续费（台币/票）' => 30,
                        '体积重计算' => 6000,
                        '体积重计算方式' => '平均', //实重   体积重    谁重用谁   平均
                        '全程时效' => '3-4',
                        '渠道代码' => '黑猫宅急便/邮政/新竹',
                        '退件免费存放天数' => 30,
                        '退件重出费用' => 30,
                    ],
                    'M' => [
                        '首重(派送)' => 1,
                        '首重费用(派送)' => 40,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 20,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '拒签退回费用' => 0,
                        '签收退货取件（台币/票）' => 85,
                        '退件重出（台币/票）' => 115,
                        '客诉打款手续费（台币/票）' => 30,
                        '体积重计算' => 6000,
                        '体积重计算方式' => '平均', //实重   体积重    谁重用谁   平均
                        '全程时效' => '3-4',
                        '渠道代码' => '黑猫宅急便/邮政/新竹',
                        '退件免费存放天数' => 30,
                        '退件重出费用' => 30,
                    ],
                ],
                'HK' => [
                    'P' => [
                        '首重(派送)' => 1,
                        '首重费用(派送)' => 40,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 8,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '拒收退件' => 25,
                        '签收退货取件' => 25,
                        '退件重出' => 0, //todo 不是0，待定价，暂未开通
                        '客诉打款手续费' => [
                            '恒生汇丰' => 20,
                            '其它' => 80,
                        ],
                        '体积重计算' => 6000,
                        '体积重计算方式' => '谁重用谁', //实重   体积重    谁重用谁   平均
                        '全程时效' => '2-3',
                        '渠道代码' => '顺丰',
                    ],
                    'M' => [
                        '首重(派送)' => 1,
                        '首重费用(派送)' => 65,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 25,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '拒收退件' => 25,
                        '签收退货取件' => 25,
                        '退件重出' => 0, //todo 不是0，待定价，暂未开通
                        '客诉打款手续费' => [
                            '恒生汇丰' => 20,
                            '其它' => 80,
                        ],
                        '体积重计算' => 6000,
                        '体积重计算方式' => '谁重用谁', //实重   体积重    谁重用谁   平均
                        '全程时效' => '3-4',
                        '渠道代码' => 'YSP',
                    ],
                ],
            ],
            '壹加壹' => [
                'TW' => [
                    'P' => [
                        '首重(派送)' => 1,
                        '首重费用(派送)' => 30,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 11,
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '退款费（台币）' => 30,
                        '上门取件费（台币）' => 80,
                        '入仓费（免费15天）' => 0,
                        '入仓费（25台币/天*月）' => 5,
                        '转寄费（含人工包装费25）（台币）' => 125,
                        '货物丢失赔偿' => 0.7,
                        '仓储费（免费30天）' => 0,
                        '仓储费（25台币/天*月）' => 30,
                        '仓储费（台币/天*月）' => 25,
                    ],
                    'M' => [
                        '首重(派送)' => 1,
                        '首重费用(派送)' => 40,
                        '续重(派送)' => 1,
                        '续重费用(派送)' => 0, //TODO  不是0 是为空
                        '首重(头程)' => 0,
                        '首重费用(头程)' => 0,
                        '续重(头程)' => 0,
                        '续重费用(头程)' => 0,
                        '退款费（台币）' => 30,
                        '上门取件费（台币）' => 80,
                        '入仓费（免费15天）' => 0,
                        '入仓费（25台币/天*月）' => 5,
                        '转寄费（含人工包装费25）（台币）' => 125,
                        '货物丢失赔偿' => 0.7,
                        '仓储费（免费30天）' => 0,
                        '仓储费（25台币/天*月）' => 30,
                        '仓储费（台币/天*月）' => 25,
                    ],
                    '外岛' => [
                        '首重费用(派送)' => 50,
                    ],
                ],
                'HK' => [
                    '首重(派送)' => 3,
                    '首重费用(派送)' => 42,
                    '续重(派送)' => 1,
                    '续重费用(派送)' => 6,
                    '退货（港币）' => 36,
                    '转寄费（港币）' => 36,
                    '入仓费（免费15天）' => 1.5,
                    '入仓费（0.3港币/天*月）' => 0.3,
                    '货物丢失赔偿' => 0.6,
                ],
            ],
            '泰好' => [
                'TH' => [
                    '曼谷市区' => [
                        'P' => [
                            '首重(1-3)' => 1,
                            '首重费用(1-3)' => 33,
                            '续重(1-3)' => 1,
                            '续重费用(1-3)' => 12,
                            '续重(3.01-5)' => 1,
                            '续重费用(3.01-5)' => 18,
                            '续重(5.01-10)' => 1,
                            '续重费用(5.01-10)' => 17.5,
                            '拒收退回仓库费（首重）' => 1,
                            '拒收退回仓库费（首重费用）' => 18,
                            '拒收退回仓库费（续重）' => 1,
                            '拒收退回仓库费（续重费用）' => 4,
                            '转寄操作费' => 5,
                        ],
                        'M' => [
                            '首重(1-3)' => 1,
                            '首重费用(1-3)' => 36,
                            '续重(1-3)' => 1,
                            '续重费用(1-3)' => 12,
                            '续重(3.01-5)' => 1,
                            '续重费用(3.01-5)' => 18.5,
                            '续重(5.01-10)' => 1,
                            '续重费用(5.01-10)' => 18,
                            '拒收退回仓库费（首重）' => 1,
                            '拒收退回仓库费（首重费用）' => 18,
                            '拒收退回仓库费（续重）' => 1,
                            '拒收退回仓库费（续重费用）' => 4,
                            '转寄操作费' => 5,
                        ],
                    ],
                ],
            ],
            '博佳图' => [
                'TH' => [
                    'P' => [
                        '首重' => 1,
                        '首重费用' => 35,
                        '续重' => 1,
                        '续重费用' => 10,
                        'COD手续费' => 15,
                        'COD手续费比例（超过10000TH）' => 0.015,
                        '周六、早上派送（票）' => 20,
                        '拒收退回仓库费（首重）' => 2,
                        '拒收退回仓库费（首重费用）' => 19,
                        '拒收退回仓库费（续重）' => 1,
                        '拒收退回仓库费（续重费用）' => 3,
                        '仓储费（免费30天）' => 0,
                        '仓储费（0.5元/天*票）' => 0.5,
                        '转寄打单费' => 5,
                        '当地转' => [
                            'BKK' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                            ],
                            '其它城市' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                            ],
                            '特别偏远' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                                '加收费用' => 40,
                            ],
                        ],
                    ],
                    'M' => [
                        '首重' => 1,
                        '首重费用' => 37,
                        '续重' => 1,
                        '续重费用' => 10,
                        'COD手续费' => 15,
                        'COD手续费比例（超过10000TH）' => 0.015,
                        '周六、早上派送（票）' => 20,
                        '拒收退回仓库费（首重）' => 2,
                        '拒收退回仓库费（首重费用）' => 19,
                        '拒收退回仓库费（续重）' => 1,
                        '拒收退回仓库费（续重费用）' => 3,
                        '仓储费（免费30天）' => 0,
                        '仓储费（0.5元/天*票）' => 0.5,
                        '转寄打单费' => 5,
                        '当地转' => [
                            'BKK' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                            ],
                            '其它城市' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                            ],
                            '特别偏远' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                                '加收费用' => 40,
                            ],
                        ],
                    ],
                    '化妆品类' => [
                        '首重' => 1,
                        '首重费用' => 37,
                        '续重' => 1,
                        '续重费用' => 10,
                        'COD手续费' => 15,
                        'COD手续费比例（超过10000TH）' => 0.015,
                        '周六、早上派送（票）' => 20,
                        '拒收退回仓库费（首重）' => 2,
                        '拒收退回仓库费（首重费用）' => 19,
                        '拒收退回仓库费（续重）' => 1,
                        '拒收退回仓库费（续重费用）' => 3,
                        '仓储费（免费30天）' => 0,
                        '仓储费（0.5元/天*票）' => 0.5,
                        '转寄打单费' => 5,
                        '当地转' => [
                            'BKK' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                            ],
                            '其它城市' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                            ],
                            '特别偏远' => [
                                '当地转派送费首重' => 2,
                                '当地转派送费首重费用' => 19,
                                '当地转派送费续重' => 1,
                                '当地转派送费续重费用' => 3,
                                '加收费用' => 40,
                            ],
                        ],
                    ],
                ],
            ],
            '森鸿' => [
                'TW' => [
                    '首重' => 1,
                    '首重费用(台币)' => 140,
                    '续重' => 1,
                    '续重费用(台币)' => 50,
                    '代收款手续费（<5000台币）' => 0,
                    '代收款手续费（>5000台币）(台币)' => 30,
                    '改派地址或重发(台币)' => 70,
                    '改派地址或重发手续费(台币)' => 30,
                    '离岛区域加收(台币)' => 230,
                    '转寄或重出仓储理货费(台币)' => 20,
                    '转寄或重出黑猫派送费(台币)' => 70,
                    '转寄或重出代收手续费(台币)' => 30,
                    '货物尺寸限制(cm)' => 90,
                    '货物尺寸限制(kg)' => 10,
                ],
                'HK' => [
                    '首重' => 1,
                    '首重费用' => 40,
                    '续重' => 1,
                    '续重费用' => 3,
                    '体积重计算' => 6000,
                    '体积重计算方式' => '谁重用谁', //实重   体积重    谁重用谁   平均
                    '仓储理货费' => 15,
                    '首重(重出)' => 1,
                    '首重费用(重出)' => 40,
                    '续重(重出)' => 1,
                    '续重费用(重出)' => 3,
                ],
            ],
            'K1' => [
                //西马
                'MY0' => [
                    'P' => [
                        '首重' => 1,
                        '首重费用' => 30,
                        '续重' => 1,
                        '续重费用' => 18,
                        '拒签退回费用' => 0,
                        'COD手续费最低值' => 15,
                        'COD手续费比例' => 0.03,
                        '换单费' => 5,
                        '换单首重' => 1,
                        '换单首重费用' => 15,
                        '换单续重' => 1,
                        '换单续重费用' => 1.5,
                        '仓租费免费天数' => 15,
                        '仓租费(元/kg&天)' => 0.5,
                        '参考时效' => '3-5',
                    ],
                    'M' => [
                        '首重' => 1,
                        '首重费用' => 35,
                        '续重' => 1,
                        '续重费用' => 20,
                        '拒签退回费用' => 0,
                        'COD手续费最低值' => 15,
                        'COD手续费比例' => 0.03,
                        '换单费' => 5,
                        '换单首重' => 1,
                        '换单首重费用' => 15,
                        '换单续重' => 1,
                        '换单续重费用' => 1.5,
                        '仓租费免费天数' => 15,
                        '仓租费(元/kg&天)' => 0.5,
                        '参考时效' => '3-5',
                    ],
                ],
                'MY1' => [
                    'P' => [
                        '首重' => 1,
                        '首重费用' => 45,
                        '续重' => 1,
                        '续重费用' => 40,
                        '拒签退回费用' => 0,
                        'COD手续费最低值' => 15,
                        'COD手续费比例' => 0.03,
                        '换单费' => 5,
                        '换单首重' => 1,
                        '换单首重费用' => 30,
                        '换单续重' => 1,
                        '换单续重费用' => 30,
                        '仓租费免费天数' => 15,
                        '仓租费(元/kg&天)' => 0.5,
                        '参考时效' => '4-7',
                    ],
                    'M' => [
                        '首重' => 1,
                        '首重费用' => 50,
                        '续重' => 1,
                        '续重费用' => 45,
                        '拒签退回费用' => 0,
                        'COD手续费最低值' => 15,
                        'COD手续费比例' => 0.03,
                        '换单费' => 5,
                        '换单首重' => 1,
                        '换单首重费用' => 30,
                        '换单续重' => 1,
                        '换单续重费用' => 30,
                        '仓租费免费天数' => 15,
                        '仓租费(元/kg&天)' => 0.5,
                        '参考时效' => '4-7',
                    ],
                ],
            ],
            'imile' => [
                'UAE' => [
                    '迪拜' => [
                        'P' => [
                            '头程费用/kg' => 29,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 18,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                        'M' => [
                            '头程费用/kg' => 32,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 18,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                        '特殊货' => [
                            '头程费用/kg' => 37,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 18,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                    ],
                    '沙迦' => [
                        'P' => [
                            '头程费用/kg' => 29,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 18,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                        'M' => [
                            '头程费用/kg' => 32,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 18,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                        '特殊货' => [
                            '头程费用/kg' => 37,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 18,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                    ],
                    '阿联酋其他地区' => [
                        'P' => [
                            '头程费用/kg' => 29,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 25,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                        'M' => [
                            '头程费用/kg' => 32,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 25,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                        '特殊货' => [
                            '头程费用/kg' => 37,
                            '头程最低重量(kg)' => 5,
                            '时间' => '3-5',
                            '派送首重' => 5,
                            '派送首重费用(AED)' => 25,
                            '派送续重' => 1,
                            '派送续重费用(AED)' => 3,
                            '代收货款服务费比例' => 0.03,
                        ],
                    ],
                ],
            ],
            '合联' => [
                'UAE' => [
                    '运费' => [    //重量按百g 计算 向上取整  在哪两个 k值之间
                        1 => 27,
                        2 => 30,
                        3 => 32,
                        4 => 35,
                        5 => 38,
                        6 => 41,
                        7 => 44,
                        8 => 47,
                        9 => 50,
                        10 => 53,
                        11 => 56,
                        12 => 59,
                        13 => 62,
                        14 => 65,
                        15 => 68,
                        16 => 71,
                        17 => 74,
                        18 => 76,
                        19 => 79,
                        20 => 82,
                        21 => 85,
                        22 => 88,
                        23 => 91,
                        24 => 94,
                        25 => 97,
                        26 => 100,
                        27 => 103,
                        28 => 106,
                        29 => 109,
                        30 => 112,
                        31 => 115,
                        32 => 118,
                        33 => 120,
                        34 => 123,
                        35 => 126,
                        36 => 129,
                        37 => 132,
                        38 => 135,
                        39 => 138,
                        40 => 141,
                    ],
                    'COD手续费($)' => [
                        1 => 2.8,
                        138 => 4,
                        273 => 6.4,
                        410 => 7.8,
                        1366 => 10.7,
                    ],
                ],
            ],
            '和洋' => [
                'PHL' => [
                    '首重' => 0.5,
                    '首重费用' => 40,
                    '续重' => 0.5,
                    '续重费用' => 20,
                    '体积重计算' => 6000,
                    '体积重计算方式' => '谁重用谁', //实重   体积重    谁重用谁   平均
                    '代收手续费比例' => 0.03,
                    '参考时效(马尼拉省)' => '1-2',
                    '参考时效(马尼拉省外省1)' => '2-3',
                    '参考时效(马尼拉省外省2)' => '3-5',
                    '改派或重发费用' => 20,
                    '退款手续费比例' => 0.05,
                    '渠道代码' => 'PHCOD',
                ],
            ],
            '翊达' => [
                'ID' => [],
            ],
            '云路' => [],
            'CDS马来' => [],
            'CDS印尼（鸿腾全运）' => [],
            'TJM' => [],
            '汉邮' => [],
            '皇家' => [],
            '东丰' => [],
        ];
        Yii::$app->db->createCommand()->update('wms_format', ['is_del' => 1])->execute();
        Yii::$app->db->createCommand()->insert("wms_format",[
            'user_id' => 1,
            'format' => json_encode($data),
            'comment' => '修改 K1',
        ])->execute();
        echo strlen(json_encode($data));
    }

    public function actionCalculation(){
        if($data = Yii::$app->db->createCommand("select format from wms_format where is_del = 0 order by update_time desc limit 1")->queryOne()) {
            $data = json_decode($data['format'],true);
            //通过订单id查询到以下相关信息
            $order = [
                'id' => '555',
                'country' => 'PHL',    //
                'lc_number' => '111',
                'lw' => 'GDEX',
                'lc' => '和洋',
                'weight' => '0.2',
                'length' => '20',
                'width' => '20',
                'height' => '0',
                'type' => 'M',  // P M
                'COD' => '8000',  //cod 金额数量（货币类型暂时还没确认）
                'other' => '',  //其它说明
                'value' => '',  //其它说明值
            ];
            $res = (new WmsFinanceFreightFormula())->actionCalculation($order,$data,1,1);
            var_dump($res);
        }
    }

    public function actionAdd(){
        echo null + 1;
    }


    /**
     * 定时查询任务列表，更新产品的状态
     */
    public function actionCrontab()
    {
        
    }

}
